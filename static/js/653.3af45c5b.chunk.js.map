{"version":3,"file":"static/js/653.3af45c5b.chunk.js","mappings":"+PACA,EAA4B,0B,SCuD5B,MAjDA,WACE,OAA0BA,EAAAA,EAAAA,UAAS,MAAnC,eAAOC,EAAP,KAAcC,EAAd,KACA,GAA4BC,EAAAA,EAAAA,MAA5B,eAAOC,EAAP,KAAeC,EAAf,KACIC,EAAQF,EAAOG,IAAI,UAAY,GACnC,GAAsCP,EAAAA,EAAAA,UAASM,GAA/C,eAAOE,EAAP,KAAoBC,EAApB,KACMC,GAAWC,EAAAA,EAAAA,MAqBjB,OAlBAC,EAAAA,EAAAA,YAAU,WACR,GAAKN,EAAL,CACA,IAAMO,EAAO,mCAAG,qGACKC,EAAAA,EAAAA,IAASR,GADd,OACRS,EADQ,OAEdb,EAASa,EAAKC,SAFA,2CAAH,qDAIbH,GALkB,CAMnB,GAAE,CAACP,KAYF,iCACE,kBAAMW,SAPW,SAAAC,GACnBA,EAAEC,iBACFd,EAAU,CAACC,MAAME,GAClB,EAIG,WACE,kBAAOY,MAAOZ,EAAaa,SAZZ,SAAAH,GACnBT,EAAeS,EAAEI,OAAOF,MACzB,KAWK,mBAAQG,KAAK,SAAb,uBAEDtB,IACC,+BACGA,QADH,IACGA,OADH,EACGA,EAAOuB,KAAI,SAAAC,GAAI,OACd,yBACE,SAAC,KAAD,CAAMC,GAAE,UAAKD,EAAKE,IAAMC,MAAO,CAACC,KAAKnB,GAAWoB,UAAWC,EAAeJ,GAAIF,EAAKE,GAAnF,SACGF,EAAKO,kBAFDP,EAAKE,GADA,QAWzB,C,8LClDKM,EAAO,mCAAG,2GAAOC,EAAP,+BAAa,GAAb,SACSC,EAAAA,GAAAA,IAAUD,GADnB,uBACNnB,EADM,EACNA,KADM,kBAEPA,GAFO,2CAAH,qDAIPqB,EAAW,+BACXC,EAAU,mCAET,SAASC,IACd,OAAOL,EAAQ,GAAD,OAAIG,EAAJ,uCAA2CC,GAC1D,CAEM,SAASvB,EAASyB,GACvB,OAAON,EAAQ,GAAD,OACTG,EADS,kCACyBC,EADzB,kBAC0CE,EAD1C,WAGf,CAEM,SAASC,EAAab,GAC3B,OAAOM,EAAQ,SAAD,OACVG,EADU,kBACQT,EADR,oBACsBU,GACrC,CAGM,SAASI,EAAYd,GACxB,OAAOM,EAAQ,GAAD,OAAIG,EAAJ,kBAAsBT,EAAtB,4BAA4CU,GAC7D,CAIM,SAASK,EAAaf,GAC3B,OAAOM,EAAQ,GAAD,OAAIG,EAAJ,kBAAsBT,EAAtB,4BAA4CU,GAC3D,C","sources":["webpack://react-homework-template/./src/components/Movies/Movies.module.css?9f30","components/Movies/Movies.jsx","services/Api.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"movieLink\":\"Movies_movieLink__e75lb\"};","import React from 'react';\nimport { useState, useEffect } from 'react';\nimport { getMovie } from 'services/Api';\nimport { Link, useSearchParams, useLocation } from 'react-router-dom';\nimport css from './Movies.module.css';\n\n\nfunction Movies() {\n  const [movie, setMovie] = useState(null);\n  const [params, setParams] = useSearchParams();\n  let query = params.get(\"query\") || \"\"\n  const [searchValue, setSearchValue] = useState(query);\n  const location = useLocation()\n\n  \n  useEffect(() => {\n    if (!query) return;\n    const getData = async () => {\n      const data = await getMovie(query);\n      setMovie(data.results);\n    };\n    getData();\n  }, [query]);\n\n  const handleChange = e => {\n    setSearchValue(e.target.value);\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    setParams({query:searchValue});\n  };\n\n  return (\n    <>\n      <form onSubmit={handleSubmit}>\n        <input value={searchValue} onChange={handleChange} />\n        <button type=\"submit\">Search</button>\n      </form>\n      {movie && (\n        <ul>\n          {movie?.map(item => (\n            <li key={item.id} >\n              <Link to={`${item.id}`} state={{from:location}} className={css.movieLink} id={item.id}>\n                {item.original_title}\n              </Link>\n            </li>\n          ))}\n        </ul>\n      )}\n    </>\n  );\n}\n\n\n\nexport default Movies\n\n // const search = searchParams.get(\"search\")??\"\"","import axios from 'axios';\n\nconst baseApi = async (url = '') => {\n  const { data } = await axios.get(url);\n  return data;\n};\nconst BASE_URL = 'https://api.themoviedb.org/3';\nconst APE_KEY = '087b3a8cac1b0930cef8c04cbd521bfb';\n\nexport function getTrending() {\n  return baseApi(`${BASE_URL}/trending/movie/day?api_key=${APE_KEY}`);\n}\n\nexport function getMovie(qvery) {\n  return baseApi(\n    `${BASE_URL}/search/movie/?api_key=${APE_KEY}&query=${qvery}&page=1`\n  );\n}\n\nexport function getMovieById(id) {\n  return baseApi(`\n    ${BASE_URL}/movie/${id}?api_key=${APE_KEY}`);\n}\n\n\nexport function getCastById(id){\n    return baseApi(`${BASE_URL}/movie/${id}/credits?api_key=${APE_KEY}`)\n}\n// export const searchApi = async params => {\n//     return baseApi(`${BASE_URL}/search/movie/?api_key=${APE_KEY}&query=${params}&page=1`);\n//   };\nexport function getReviewApi(id){\n  return baseApi(`${BASE_URL}/movie/${id}/reviews?api_key=${APE_KEY}`)\n}"],"names":["useState","movie","setMovie","useSearchParams","params","setParams","query","get","searchValue","setSearchValue","location","useLocation","useEffect","getData","getMovie","data","results","onSubmit","e","preventDefault","value","onChange","target","type","map","item","to","id","state","from","className","css","original_title","baseApi","url","axios","BASE_URL","APE_KEY","getTrending","qvery","getMovieById","getCastById","getReviewApi"],"sourceRoot":""}